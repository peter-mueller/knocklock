<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../knock-auth/knock-auth.html">
<link rel="import" href="../knock-questions/knock-questions.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="knocklock-app">
    <template>
        <style>
            :host {
                display: block;
            }


            p,
            h2,
            h4 {
                padding: 1rem;
            }

            @media (min-width: 720px) {
                #wrapper {
                    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.8);
                }
            }

            #loading {
                height: 100%
            }

        </style>
        <style include="iron-flex iron-flex-alignment"></style>

        <knock-auth></knock-auth>

    </template>

    <script>
        /**
         * @customElement
         * @polymer
         */
        class KnocklockApp extends Polymer.Element {
            static get is() {
                return 'knocklock-app';
            }

            static get properties() {
                return {
                    user: {
                        type: Object,
                        notify: true
                    },
                    questions: {
                        type: Array,
                        notify: true
                    }
                };
            }

            static _errorHandler(error) {
                console.log(error);
            }

            connectedCallback() {
                super.connectedCallback();

                this.$.auth.signInAnonymously()
            }

        }

        window.customElements.define(KnocklockApp.is, KnocklockApp);
    </script>
</dom-module>